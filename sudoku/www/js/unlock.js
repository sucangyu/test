!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=7)}([function(t,n,e){"use strict";var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();var o={makeRow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Array(9);return n.fill(t),n},makeMatrix:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Array.from({length:9},function(){return t.makeRow(n)})},shuffle:function(t){for(var n=t.length-2,e=0;e<=n;e++){var r=e+Math.floor(Math.random()*(t.length-e)),o=[t[r],t[e]];t[e]=o[0],t[r]=o[1]}return t},checkFillable:function(t,n,e,r){for(var o=t[e],i=this.makeRow().map(function(n,e){return t[e][r]}),u=a.convertToBoxIndex(e,r).boxIndex,l=a.getBoxCells(t,u),c=0;c<9;c++)if(o[c]===n||i[c]===n||l[c]===n)return!1;return!0}},a={getBoxCells:function(t,n){for(var e=3*Math.floor(n/3),r=n%3*3,o=[],a=0;a<9;a++){var i=e+Math.floor(a/3),u=r+a%3;o.push(t[i][u])}return o},convertToBoxIndex:function(t,n){return{boxIndex:3*Math.floor(t/3)+Math.floor(n/3),cellIndex:t%3*3+n%3}},convertFromBoxIndex:function(t,n){return{rowIndex:3*Math.floor(t/3)+Math.floor(n/3),colIndex:t%3*3+n%3}}};t.exports=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"matrix",get:function(){return o}},{key:"box",get:function(){return a}}]),t}()},function(t,n,e){"use strict";var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();t.exports=function(){function t(n){var e=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._$panel=n.hide().removeClass("hidden"),this._$panel.on("click","span",function(t){var n=e._$targetCell,r=$(t.target);n.hasClass("fixed")||(r.hasClass("mark1")?n.hasClass("mark1")?n.removeClass("mark1"):n.removeClass("mark2").addClass("mark1"):r.hasClass("mark2")?n.hasClass("mark2")?n.removeClass("mark2"):n.removeClass("mark1").addClass("mark2"):r.hasClass("empty")?n.text(0).addClass("empty"):n.removeClass("empty").text(r.text())),e.hide()})}return r(t,[{key:"popup",value:function(t){this._$targetCell=t;var n=t.position(),e=n.left,r=n.top;this._$panel.css({left:e+"px",top:r+"px"}).show()}},{key:"hide",value:function(){this._$panel.hide()}}]),t}()},,,,,,function(t,n,e){"use strict";var r=e(8),o=e(1),a=new r($("#container"));a.unlockBuild(),a.layout();var i=new o($("#popupNumbers"));a.bindPopup(i),$("#check").on("click",function(t){a.unlock()}),$("#rebuild").on("click",function(t){a.unRebuild()})},function(t,n,e){"use strict";var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();var o=e(0),a=e(9),i=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._$container=n}return r(t,[{key:"unlockBuild",value:function(){var t=o.matrix.makeMatrix(),n=["row_g_top","row_g_middle","row_g_bottom"],e=["col_g_left","col_g_center","col_g_right"],r=t.map(function(t){return t.map(function(t,n){return $("<span>").addClass(e[n%3]).addClass(t?"fixed":"empty").text(t)})}).map(function(t,e){return $("<div>").addClass("row").addClass(n[e%3]).append(t)});this._$container.append(r)}},{key:"layout",value:function(){var t=$("span:first",this._$container).width();$("span",this._$container).height(t).css({"line-height":t+"px","font-size":t<32?t/2+"px":""})}},{key:"bindPopup",value:function(t){this._$container.on("click","span",function(n){var e=$(n.target);e.hasClass("fixed")||t.popup(e)})}},{key:"unlock",value:function(){var t=this._$container.children().map(function(t,n){return $(n).children().map(function(t,n){return parseInt($(n).text())||0})}).toArray().map(function(t){return t.toArray()}),n=new a;n.internalGenerate(t);var e=n.start();console.log(e)}},{key:"unRebuild",value:function(){this._$container.empty(),this.unlockBuild(),this.layout()}}]),t}();t.exports=i},function(t,n,e){"use strict";var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();var o=e(0);t.exports=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"internalGenerate",value:function(t){this.b=t,this.t=0}},{key:"get_next",value:function(t,n){for(var e=n+1;e<=9;e++)if(this.b[t][e]==value)return{x:t,n:e};for(var r=t+1;r<=9;r++)for(var o=0;o<=9;o++)if(0==this.b[r][o])return{r:r,c:o};return[-1,-1]}},{key:"try_it",value:function(t,n){if(0==this.b[t][n])for(var e=0;e<=9;e++)if(this.t+=1,o.matrix.checkFillable(this.b,e,t,n)){this.b[t][n]=e;var r=this.get_next(t,n),a=r.next_x,i=r.next_y;if(-1==a)return!0;if(this.try_it(a,i))return!0;this.b[t][n]=0}}},{key:"start",value:function(){if(0==this.b[0][0])this.try_it(0,0);else{var t=this.get_next(0,0),n=t.x,e=t.y;this.try_it(n,e)}for(var r in this.b)return r}}]),t}()}]);
//# sourceMappingURL=unlock.js.map